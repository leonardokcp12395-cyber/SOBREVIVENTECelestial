<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jornada do Dao Imortal</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="error-container" class="error-message" style="display: none;"></div>
    <div id="death-screen-overlay" class="overlay-container" style="display: none;">
        <div id="death-screen-content" class="panel">
            <!-- O conteúdo da tela de fim de jogo será gerado aqui -->
        </div>
    </div>
    <div id="tutorial-overlay" class="overlay-container" style="display: none;">
        <div id="tutorial-content" class="panel">
            <h2 id="tutorial-title"></h2>
            <p id="tutorial-text"></p>
            <button id="tutorial-close-btn">Entendido</button>
        </div>
    </div>
    <div class="game-container">
        <!-- Painel Esquerdo: Atributos do Personagem -->
        <div id="character-panel" class="panel">
            <h2>Personagem</h2>
            <p><strong>Nome:</strong> <span id="char-name">Jovem Cultivador</span></p>
            <p><strong>Idade:</strong> <span id="char-age">0</span></p>
            <hr>
            <div class="accordion">
                <button class="accordion-header">Atributos Primários</button>
                <div class="accordion-content">
                    <ul>
                        <li><strong>Saúde:</strong> <span id="attr-health">100</span> / <span id="attr-max-health">100</span></li>
                        <li><strong>Energia:</strong> <span id="attr-energy">100</span> / <span id="attr-max-energy">100</span></li>
                        <li><strong>Corpo:</strong> <span id="attr-body">10</span></li>
                        <li><strong>Mente:</strong> <span id="attr-mind">10</span></li>
                        <li><strong>Alma:</strong> <span id="attr-soul">10</span></li>
                        <li><strong>Sorte:</strong> <span id="attr-luck">5</span></li>
                    </ul>
                </div>
            </div>
            <div class="accordion">
                <button class="accordion-header">Estatísticas de Combate</button>
                <div class="accordion-content">
                    <ul>
                        <li><strong>Poder de Ataque:</strong> <span id="attr-attack-power">0</span></li>
                        <li><strong>Defesa Mágica:</strong> <span id="attr-magic-defense">0</span></li>
                        <li><strong>Dano Crítico:</strong> <span id="attr-crit-damage">150</span>%</li>
                    </ul>
                </div>
            </div>
            <div class="accordion">
                <button class="accordion-header">Cultivo</button>
                <div class="accordion-content">
                    <p><strong><span class="tooltip" data-text="O Reino de Cultivo representa o nível de poder fundamental de um cultivador.">Reino</span>:</strong> <span id="cult-realm">Mortal</span></p>
                    <p><strong><span class="tooltip" data-text="Qi é a energia vital que flui por todos os seres vivos. É a base do cultivo.">Nível de Qi</span>:</strong> <span id="cult-qi">0</span> / <span id="cult-qi-max">100</span></p>
                </div>
            </div>
        </div>

        <!-- Painel Central: Mapa e Eventos -->
        <div id="event-panel" class="panel">
            <!-- Visão do Mapa -->
            <div id="map-view" class="view-container active">
                <h2>Mapa do Mundo</h2>
                <p>Escolha uma região para explorar. Cada exploração consome energia.</p>
                <div id="regions-container">
                    <!-- Regiões desbloqueadas serão renderizadas aqui -->
                </div>
            </div>

            <!-- Visão de Evento -->
            <div id="event-view" class="view-container">
                <h2 id="event-title">Diário da Jornada</h2>
                <div id="event-log">
                    <div id="event-content">
                        <p>Você nasceu em uma pequena vila de camponeses. O futuro é uma tela em branco, esperando para ser pintada por suas ações.</p>
                    </div>
                </div>
                <div id="choices-container">
                    <!-- As opções de escolha aparecerão aqui -->
                </div>
            </div>

            <!-- Visão de Interação com NPC -->
            <div id="interaction-view" class="view-container">
                <h2 id="interaction-npc-name"></h2>
                <p><strong>Humor:</strong> <span id="interaction-npc-mood"></span></p>
                <p><strong>Reino:</strong> <span id="interaction-npc-realm"></span></p>
                <p><strong>Atributos:</strong> Corpo: <span id="interaction-npc-body"></span>, Mente: <span id="interaction-npc-mind"></span>, Alma: <span id="interaction-npc-soul"></span></p>
                <div id="interaction-social-container">
                    <!-- Status social, parceiro, filhos, etc. aqui -->
                </div>
                <div id="interaction-options-container">
                    <!-- Botões de interação (Conversar, etc.) aparecerão aqui -->
                </div>
                <hr>
                <div id="interaction-result-container">
                    <!-- Resultado da interação (diálogo, log) aparecerá aqui -->
                </div>
            </div>

            <!-- Visão de Hub (Cidade) -->
            <div id="hub-view" class="view-container">
                <h2 id="hub-name"></h2>
                <p id="hub-description"></p>
                <div id="hub-locations-container">
                    <!-- Botões de locais (Mercado, etc.) aparecerão aqui -->
                </div>
                 <div id="hub-content-container">
                    <!-- Conteúdo do local selecionado aparecerá aqui -->
                </div>
            </div>

            <!-- Visão de Alquimia -->
            <div id="alchemy-view" class="view-container">
                <h2>Bancada de Alquimia</h2>
                <p><strong>Nível de Alquimia:</strong> <span id="alchemy-skill-level">0</span></p>
                <div id="recipes-container">
                    <!-- Receitas serão renderizadas aqui -->
                </div>
                <hr>
                <h3>Seus Ingredientes</h3>
                <ul id="alchemy-ingredients-list">
                    <!-- Ingredientes do jogador serão listados aqui -->
                </ul>
            </div>

            <!-- Visão da Mansão -->
            <div id="manor-view" class="view-container">
                <h2>Sua Mansão</h2>
                <div id="manor-upgrades-container">
                    <!-- Opções de upgrade serão renderizadas aqui -->
                </div>
            </div>

            <!-- Visão de Gestão da Seita -->
            <div id="sect-management-view" class="view-container">
                <h2>Gestão da Seita</h2>
                <div id="sect-management-container">
                    <!-- Opções de gestão serão renderizadas aqui -->
                </div>
            </div>

            <!-- Botões de Ação Globais -->
            <div class="action-buttons-container">
                <button id="meditate-btn">Meditação Isolada</button>
                <button id="alchemy-btn">Alquimia</button>
                <button id="manor-btn" style="display: none;">Mansão</button>
                <button id="sect-actions-btn" style="display: none;">Ações da Seita</button>
                <button id="sect-management-btn" style="display: none;">Gerenciar Seita</button>
                <button id="next-month-btn">Avançar Mês</button>
            </div>
        </div>

        <!-- Painel Direito: Abas de Recursos e Histórico -->
        <div id="right-panel" class="panel">
            <div class="tabs">
                <button id="resources-tab" class="tab-button active">Recursos</button>
                <button id="history-tab" class="tab-button">Histórico</button>
                <button id="talents-tab" class="tab-button">Talentos</button>
                <button id="techniques-tab" class="tab-button">Técnicas</button>
                <button id="equipment-tab" class="tab-button">Equipamento</button>
                <button id="relationships-tab" class="tab-button">Relacionamentos</button>
                <button id="family-tab" class="tab-button" style="display: none;">Família</button>
            </div>

            <div id="relationships-content" class="tab-content">
                <h2>Relacionamentos</h2>
                <input type="text" id="npc-search-bar" placeholder="Buscar NPC...">
                <ul id="relationships-list">
                    <!-- Lista de NPCs será renderizada aqui -->
                </ul>
            </div>

            <div id="family-content" class="tab-content">
                <h2>Sua Família</h2>
                <div id="family-details-container">
                    <!-- Detalhes da família serão renderizados aqui -->
                </div>
            </div>

            <div id="resources-content" class="tab-content active">
                <h2>Recursos</h2>
                <p><strong>Dinheiro:</strong> <span id="res-money">10</span> Moedas de Cobre</p>
                <div id="reputation-container">
                    <!-- Reputações de facção serão renderizadas aqui -->
                </div>

                <div id="sect-info-container" style="display: none;">
                    <hr>
                    <h3>Seita</h3>
                    <p><strong>Nome:</strong> <span id="sect-name">Nenhuma</span></p>
                    <p><strong>Rank:</strong> <span id="sect-rank">Mortal</span></p>
                    <p><strong>Contribuição:</strong> <span id="sect-contribution">0</span></p>
                </div>

                <hr>
                <h3>Itens</h3>
                <ul id="inventory-list">
                    <li>Nenhum</li>
                </ul>
            </div>

            <div id="history-log-content" class="tab-content">
                <h2>Histórico de Ações</h2>
                <ul id="action-log-list">
                    <!-- O histórico será renderizado aqui -->
                </ul>
            </div>

            <div id="talents-content" class="tab-content">
                <h2>Árvore de Talentos</h2>
                <p><strong>Pontos de Talento:</strong> <span id="talent-points">0</span></p>
                <div id="talents-container">
                    <!-- Talentos serão renderizados aqui -->
                </div>
            </div>

            <div id="techniques-content" class="tab-content">
                <h2>Técnicas de Cultivo</h2>
                <p><strong>Slots de Técnica:</strong> <span id="tech-slots">1</span></p>
                <hr>
                <h3>Técnicas Equipadas</h3>
                <ul id="equipped-techniques-list">
                    <!-- Técnicas equipadas aqui -->
                </ul>
                <hr>
                <h3>Técnicas Aprendidas</h3>
                <ul id="learned-techniques-list">
                    <!-- Técnicas aprendidas (não equipadas) aqui -->
                </ul>
            </div>

            <div id="equipment-content" class="tab-content">
                <h2>Equipamento</h2>
                <div id="equipment-slots-container">
                    <!-- Slots de equipamento (Arma, Armadura) aqui -->
                </div>
                <hr>
                <h3>Equipamento no Inventário</h3>
                <ul id="inventory-equipment-list">
                    <!-- Equipamentos no inventário aqui -->
                </ul>
            </div>
        </div>
    </div>

    <script type="module" src="src/main.js"></script>
    <div id="debug-log" style="position: fixed; bottom: 10px; left: 10px; background: #000; color: #0f0; padding: 10px; border: 1px solid #0f0; font-family: monospace; font-size: 12px; max-height: 200px; overflow-y: scroll;"></div>
</body>
</html>
