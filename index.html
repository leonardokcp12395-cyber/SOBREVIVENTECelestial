<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jornada do Dao Imortal</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <!-- Painel Esquerdo: Atributos do Personagem -->
        <div id="character-panel" class="panel">
            <h2>Personagem</h2>
            <p><strong>Nome:</strong> <span id="char-name">Jovem Cultivador</span></p>
            <p><strong>Idade:</strong> <span id="char-age">0</span></p>
            <hr>
            <h3>Atributos Primários</h3>
            <ul>
                <li><strong>Saúde:</strong> <span id="attr-health">100</span> / <span id="attr-max-health">100</span></li>
                <li><strong>Corpo:</strong> <span id="attr-body">10</span></li>
                <li><strong>Mente:</strong> <span id="attr-mind">10</span></li>
                <li><strong>Alma:</strong> <span id="attr-soul">10</span></li>
                <li><strong>Sorte:</strong> <span id="attr-luck">5</span></li>
            </ul>
            <hr>
            <h3>Cultivo</h3>
            <p><strong><span class="tooltip" data-text="O Reino de Cultivo representa o nível de poder fundamental de um cultivador.">Reino</span>:</strong> <span id="cult-realm">Mortal</span></p>
            <p><strong><span class="tooltip" data-text="Qi é a energia vital que flui por todos os seres vivos. É a base do cultivo.">Nível de Qi</span>:</strong> <span id="cult-qi">0</span> / <span id="cult-qi-max">100</span></p>
        </div>

        <!-- Painel Central: Log de Eventos -->
        <div id="event-panel" class="panel">
            <h2>Diário da Jornada</h2>
            <div id="event-log">
                <div id="event-content">
                    <p>Você nasceu em uma pequena vila de camponeses. O futuro é uma tela em branco, esperando para ser pintada por suas ações.</p>
                </div>
            </div>
            <div id="choices-container">
                <!-- As opções de escolha aparecerão aqui -->
            </div>
            <div class="action-buttons-container">
                <button id="sect-actions-btn" style="display: none;">Ações da Seita</button>
                <button id="next-year-btn">Avançar Ano</button>
            </div>
        </div>

        <!-- Painel Direito: Recursos e Relacionamentos -->
        <div id="resources-panel" class="panel">
            <h2>Recursos</h2>
            <p><strong>Dinheiro:</strong> <span id="res-money">10</span> Moedas de Cobre</p>
            <p><strong>Reputação:</strong> <span id="res-reputation">0</span></p>

            <div id="sect-info-container" style="display: none;">
                <hr>
                <h3>Seita</h3>
                <p><strong>Nome:</strong> <span id="sect-name">Nenhuma</span></p>
                <p><strong>Rank:</strong> <span id="sect-rank">Mortal</span></p>
                <p><strong>Contribuição:</strong> <span id="sect-contribution">0</span></p>
            </div>

            <hr>
            <h3>Itens</h3>
            <ul id="inventory-list">
                <li>Nenhum</li>
            </ul>
            <hr>
            <h3>Relacionamentos</h3>
            <ul id="relationships-list">
                <li>Nenhum</li>
            </ul>
        </div>
    </div>

    <script>
        const wuxiaGameData = {
            "strings": {
                "explore_yard_success": "Sua pequena aventura fortalece seu corpo. (+1 Corpo)",
                "listen_adults_success": "Você absorve conhecimento, aguçando sua mente. (+1 Mente)",
                "monk_success": "O monge ri e lhe ensina os fundamentos da respiração. Você sente o Qi pela primeira vez! (+5 Qi, ganhou Técnica de Respiração Básica)",
                "monk_failure": "O monge ri, diz que ainda é cedo, e lhe dá um doce. (+1 Sorte)",
                "monk_ignore": "Você o ignora. O monge suspira e continua seu caminho. Uma oportunidade foi perdida.",
                "shiny_object_success": "É uma moeda de prata! Você a guarda cuidadosamente. (+5 Moedas)",
                "shiny_object_ignore": "Você decide não se sujar e volta para casa. A imagem do brilho permanece em sua mente.",
                "bully_fight_aggro": "Você luta com ferocidade. Mesmo que não vença, sua coragem impressiona a todos. (+2 Corpo, +1 Reputação)",
                "bully_fight_def": "Você se esquiva e para os golpes com inteligência, frustrando seu oponente. Sua astúcia é notada. (+2 Mente, +1 Reputação)",
                "bully_refuse": "Você recusa o desafio. O garoto ri e alguns outros zombam de sua falta de coragem. (-1 Reputação)",
                "explore_cave_success": "Lá dentro, você encontra um antigo baú contendo uma 'Pílula de Refinamento Corporal'! (+1 Corpo, +1 Alma, item ganho)",
                "explore_cave_failure": "Você escorrega em uma pedra e machuca o tornozelo. Você volta para casa mancando. (-5 Saúde, que será implementado depois)",
                "explore_cave_ignore": "Você decide que é muito perigoso por enquanto e marca a localização da caverna em sua mente para o futuro.",
                "rivalry_friend": "Lian fica surpreso, mas aceita. Vocês se tornam amigos e rivais, incentivando um ao outro a treinar mais. (Relacionamento com Lian +20, +1 Mente)",
                "rivalry_aggro": "Uma rivalidade feroz nasce. A competição te leva a treinar o corpo incansavelmente. (Relacionamento com Lian -15, +1 Corpo)",
                "sect_exam_prep": "Com foco total, você treina dia e noite, fortalecendo sua força de vontade e acumulando Qi. (+2 Alma, +10 Qi)",
                "sect_exam_slump": "Você se sente desmotivado pela competição. Sua força de vontade enfraquece. (-1 Alma)",
                "sect_exam_success": "Sua mente e alma são fortes! Você passa no exame e é aceito como um Discípulo Externo da Seita da Nuvem Oculta!",
                "sect_exam_failure": "A ilusão é avassaladora. Você falha no exame e é mandado para casa, desapontado.",
                "sect_exam_giveup": "Você desiste antes mesmo de tentar. Sua falta de confiança abala sua força de vontade. (-2 Alma)",
                "sect_elder_accept": "O ancião sorri. 'Continue se esforçando', ele diz. Você sente seu cultivo se fortalecer. (+20 Qi)",
                "sect_elder_refuse": "O ancião parece ainda mais impressionado com sua força de vontade. 'Um bom jovem, de fato.' (+1 Alma, Relacionamento com o Ancião +10)",
                "buy_pill_success": "É caro, mas você sente uma onda de energia pura ao consumir a pílula. (+50 Qi, -25 Moedas)",
                "buy_pill_failure": "Você conta suas moedas, mas não tem o suficiente. O alquimista vai embora, desapontado.",
                "buy_pill_ignore": "Você decide não arriscar seu dinheiro arduamente ganho em uma promessa de um estranho.",
                "power_spot_success": "Sua mente resiste à pressão da energia densa e você a absorve com sucesso, refinando seu Qi. (+75 Qi, +1 Mente)",
                "power_spot_failure": "A energia é muito forte para sua mente! Você sente uma dor de cabeça lancinante e precisa recuar. (-1 Mente)",
                "power_spot_ignore": "Você decide que a prudência é a melhor parte da coragem e deixa o local intocado.",
                "duel_lian_win": "Você derrota Lian com um movimento rápido! Sua reputação na vila aumenta.",
                "duel_lian_loss": "Lian é mais forte do que você pensava e te derruba facilmente. Que vergonha...",
                "duel_lian_refuse": "Você recusa, dizendo que não está preparado. Lian parece desapontado com sua falta de espírito marcial. (Relacionamento com Lian -10)"
            },
            "events": [
                {
                    "age": 3,
                    "text": "Você começa a andar e balbuciar suas primeiras palavras. Seus pais notam sua curiosidade.",
                    "choices": [
                        { "text": "Tentar explorar o quintal.", "effects": { "attributes": { "body": 1 } }, "resultKey": "explore_yard_success" },
                        { "text": "Ouvir atentamente as conversas dos adultos.", "effects": { "attributes": { "mind": 1 } }, "resultKey": "listen_adults_success" }
                    ]
                },
                {
                    "age": 5,
                    "text": "Um velho monge viajante passa pela sua vila. Ele olha para você com um brilho nos olhos e diz: 'Jovem, vejo um potencial extraordinário em você. Mas o caminho do cultivo é árduo. O que você fará?'",
                    "choices": [
                        { "text": "Pedir para se tornar seu discípulo.", "effects": { "special": "monk_disciple" }, "successKey": "monk_success", "failureKey": "monk_failure" },
                        { "text": "Ignorá-lo.", "effects": {}, "resultKey": "monk_ignore" }
                    ]
                },
                {
                    "age": 8,
                    "text": "Durante uma brincadeira, você tropeça e cai perto de um riacho. Algo brilhante chama sua atenção na lama.",
                    "choices": [
                        { "text": "Pegar o objeto brilhante.", "effects": { "resources": { "money": 5 } }, "resultKey": "shiny_object_success" },
                        { "text": "Ignorar e voltar para casa.", "effects": {}, "resultKey": "shiny_object_ignore" }
                    ]
                },
                {
                    "age": 10,
                    "text": "Durante o treino na praça da vila, um dos garotos mais velhos te desafia para um combate de treino. 'Vamos ver do que você é feito, novato!', ele provoca.",
                    "choices": [
                        { "text": "Aceitar e lutar de forma agressiva.", "effects": { "attributes": { "body": 2 }, "resources": { "reputation": 1 } }, "resultKey": "bully_fight_aggro" },
                        { "text": "Aceitar e lutar de forma defensiva.", "effects": { "attributes": { "mind": 2 }, "resources": { "reputation": 1 } }, "resultKey": "bully_fight_def" },
                        { "text": "Recusar o desafio.", "effects": { "resources": { "reputation": -1 } }, "resultKey": "bully_refuse" }
                    ]
                },
                {
                    "age": 12,
                    "text": "Explorando a floresta perto da vila, você encontra a entrada de uma caverna escura e úmida, escondida atrás de uma cortina de vinhas.",
                    "choices": [
                        { "text": "Entrar e explorar a caverna.", "effects": { "special": "explore_cave" }, "successKey": "explore_cave_success", "failureKey": "explore_cave_failure" },
                        { "text": "Marcar o local e voltar mais tarde.", "effects": {}, "resultKey": "explore_cave_ignore" }
                    ]
                },
                {
                    "age": 14,
                    "text": "Outro jovem da sua vila, Lian, começa a mostrar um talento para o cultivo quase tão grande quanto o seu. Ele te encara com uma mistura de admiração e rivalidade.",
                    "choices": [
                        { "text": "Oferecer amizade e treinar junto.", "effects": { "relationships": { "Lian": 20 }, "attributes": { "mind": 1 } }, "resultKey": "rivalry_friend" },
                        { "text": "Declarar abertamente que você será o melhor.", "effects": { "relationships": { "Lian": -15 }, "attributes": { "body": 1 } }, "resultKey": "rivalry_aggro" }
                    ]
                },
                {
                    "age": 15,
                    "text": "Chega a notícia de que a prestigiosa 'Seita da Nuvem Oculta' realizará seu exame anual de recrutamento em uma cidade próxima no próximo ano. Esta é uma chance de ouro.",
                    "choices": [
                        { "text": "Começar a treinar o dobro para o exame.", "effects": { "attributes": { "soul": 2 }, "cultivation": { "qi": 10 } }, "resultKey": "sect_exam_prep" },
                        { "text": "Achar que é impossível e não se esforçar.", "effects": { "attributes": { "soul": -1 } }, "resultKey": "sect_exam_slump" }
                    ]
                },
                {
                    "age": 16,
                    "text": "É o dia do exame de recrutamento da Seita da Nuvem Oculta. Discípulos de toda a província estão aqui. A primeira fase testa a força da mente e da alma para resistir a uma ilusão.",
                    "choices": [
                        { "text": "Enfrentar o teste com tudo o que você tem.", "effects": { "special": "sect_exam_hidden_cloud" }, "successKey": "sect_exam_success", "failureKey": "sect_exam_failure" },
                        { "text": "Desistir. A competição é forte demais.", "effects": { "attributes": { "soul": -2 } }, "resultKey": "sect_exam_giveup" }
                    ]
                },
                {
                    "age": 17,
                    "sectId": "hidden_cloud_sect",
                    "text": "Um ancião da Seita da Nuvem Oculta te vê treinando e, impressionado com sua dedicação, te oferece uma Pílula de Qi de baixo grau como incentivo.",
                    "choices": [
                        { "text": "Agradecer e aceitar a pílula.", "effects": { "cultivation": { "qi": 20 }, "relationships": {"Ancião da Seita": 5} }, "resultKey": "sect_elder_accept" },
                        { "text": "Recusar educadamente, dizendo que prefere avançar com seu próprio esforço.", "effects": { "attributes": { "soul": 1 }, "relationships": {"Ancião da Seita": 10} }, "resultKey": "sect_elder_refuse" }
                    ]
                },
                {
                    "age": 18,
                    "text": "Um alquimista de passagem ouve sobre seu potencial e lhe oferece uma 'Pílula de Aceleração do Qi' por 25 moedas. Ele afirma que ela pode impulsionar seu cultivo em meses.",
                    "choices": [
                        { "text": "Comprar a pílula (requer 25 moedas).", "effects": { "special": "buy_qi_pill" }, "successKey": "buy_pill_success", "failureKey": "buy_pill_failure" },
                        { "text": "Desconfiar do alquimista e recusar.", "effects": {}, "resultKey": "buy_pill_ignore" }
                    ]
                },
                {
                    "age": 20,
                    "text": "Você descobre uma clareira escondida onde a energia espiritual do mundo parece ser anormalmente densa. É um local perfeito para meditar.",
                    "choices": [
                        { "text": "Meditar no local por um dia inteiro.", "effects": { "special": "meditate_power_spot" }, "successKey": "power_spot_success", "failureKey": "power_spot_failure" },
                        { "text": "É muito arriscado. Deixar o local.", "effects": {}, "resultKey": "power_spot_ignore" }
                    ]
                },
                {
                    "age": 22,
                    "text": "Seu rival, Lian, agora no mesmo reino que você, te desafia para um duelo amigável na arena da seita para 'trocar dicas'. Muitos discípulos param para assistir.",
                    "choices": [
                        { "text": "Aceitar o duelo.", "effects": { "special": "duel_lian" }, "successKey": "duel_lian_win", "failureKey": "duel_lian_loss" },
                        { "text": "Recusar educadamente.", "effects": { "relationships": { "Lian": -10 } }, "resultKey": "duel_lian_refuse" }
                    ]
                }
            ],
            "items": [
                {
                    "id": "basic_breathing_technique",
                    "name": "Técnica de Respiração Básica",
                    "type": "technique",
                    "effects": {}
                },
                {
                    "id": "body_refining_pill",
                    "name": "Pílula de Refinamento Corporal",
                    "type": "pill",
                    "effects": { "attributes": { "body": 2, "maxHealth": 5 } }
                },
                {
                    "id": "clear_mind_pill",
                    "name": "Pílula da Mente Clara",
                    "type": "pill",
                    "effects": { "attributes": { "mind": 2 } }
                },
                {
                "id": "foundation_pill",
                "name": "Pílula do Estabelecimento de Fundação",
                "type": "pill",
                "effects": {}
                }
            ],
            "sects": [
                {
                    "id": "hidden_cloud_sect",
                    "name": "Seita da Nuvem Oculta",
                    "alignment": "Justa",
                    "description": "Uma seita antiga e respeitada que valoriza o equilíbrio e a compreensão profunda do Dao. Seus discípulos são conhecidos por sua base sólida e temperamento calmo.",
                    "benefit": {
                        "type": "passive_qi_gain",
                        "value": 2,
                        "description": "+2 Qi adicional por ano."
                    },
                    "ranks": [
                        "Discípulo Externo",
                        "Discípulo Interno",
                        "Discípulo de Elite",
                        "Ancião"
                    ],
                    "contribution_needed": [
                        100,
                        500,
                        2000
                    ],
                    "store": [
                        {
                        "id": "tech_cloud_step",
                        "name": "Técnica do Passo da Nuvem",
                        "type": "technique",
                        "cost": 50,
                        "description": "Uma técnica de movimento que aumenta a agilidade e a capacidade de esquiva.",
                        "effects": { "attributes": { "body": 5 } }
                        },
                        {
                        "id": "pill_spirit_cleansing",
                        "name": "Pílula da Limpeza Espiritual",
                        "type": "pill",
                        "cost": 100,
                        "description": "Uma pílula que purifica a alma, aumentando seu potencial.",
                        "effects": { "attributes": { "soul": 10 } }
                        }
                    ],
                    "missions": [
                        {
                            "id": "mission_patrol_forest",
                            "name": "Patrulhar a Floresta",
                            "description": "Um ancião pede que você patrulhe a floresta ao redor da seita para garantir que nenhuma fera demoníaca ou cultivador suspeito se aproxime.",
                            "check": { "special": "mission_patrol_forest" },
                            "rewards": {
                                "success": { "contribution": 15, "reputation": 1, "item": "body_refining_pill" },
                                "failure": { "health": -5 }
                            }
                        },
                        {
                            "id": "mission_organize_library",
                            "name": "Organizar a Biblioteca",
                            "description": "A vasta biblioteca de técnicas da seita está uma bagunça. Um bibliotecário pede sua ajuda para catalogar alguns pergaminhos antigos.",
                            "check": { "attribute": "mind", "difficulty": 12 },
                            "rewards": {
                                "success": { "contribution": 10, "mind": 1 },
                                "failure": {}
                            }
                        },
                        {
                            "id": "mission_help_alchemist",
                            "name": "Ajudar o Alquimista",
                            "description": "O alquimista-chefe precisa de um assistente para identificar ervas raras. É um trabalho tedioso que exige uma mente afiada.",
                            "check": { "attribute": "mind", "difficulty": 14 },
                            "rewards": {
                                "success": { "contribution": 20, "item": "clear_mind_pill" },
                                "failure": { "reputation": -1 }
                            }
                        }
                    ]
                },
                {
                    "id": "blood_demon_sect",
                    "name": "Seita do Demônio de Sangue",
                    "alignment": "Demoníaca",
                    "description": "Uma seita temida e secreta que acredita que o poder deve ser tomado a qualquer custo. Seus métodos são cruéis, mas inegavelmente eficazes.",
                    "benefit": {
                        "type": "body_cultivation_boost",
                        "value": 1,
                        "description": "+1 de Corpo a cada 5 anos."
                    },
                    "ranks": [
                        "Servo de Sangue",
                        "Cultivador de Sangue",
                        "Lorde de Sangue",
                        "Patriarca"
                    ],
                    "contribution_needed": [
                        120,
                        600,
                        2500
                    ],
                    "store": [
                        {
                        "id": "tech_blood_fury",
                        "name": "Técnica da Fúria de Sangue",
                        "type": "technique",
                        "cost": 60,
                        "description": "Uma arte secreta que usa a essência vital para aumentar o poder de ataque.",
                        "effects": { "attributes": { "body": 8, "soul": -2 } }
                        },
                        {
                            "id": "pill_soul_devouring",
                            "name": "Pílula Devoradora de Almas",
                            "type": "pill",
                            "cost": 120,
                            "description": "Uma pílula proibida que consome a energia de outros para fortalecer a própria alma.",
                            "effects": { "attributes": { "soul": 15, "reputation": -10 } }
                        }
                    ]
                }
            ],
            "enemies": [
                {
                    "id": "rival_lian_14",
                    "name": "Rival Lian",
                    "attributes": {
                        "health": 30,
                        "body": 12
                    }
                }
            ]
        };
    </script>
    <script src="game.js"></script>
    <div id="debug-log" style="position: fixed; bottom: 10px; left: 10px; background: #000; color: #0f0; padding: 10px; border: 1px solid #0f0; font-family: monospace; font-size: 12px; max-height: 200px; overflow-y: scroll;"></div>
</body>
</html>
